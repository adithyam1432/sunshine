<!DOCTYPE html>
<html>

<head>
    <title>ER Diagram - Chen Notation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            text-align: center;
            margin: 0;
            padding: 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        h1 {
            color: #2c3e50;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
            margin-bottom: 10px;
        }

        svg {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            padding: 20px;
        }

        .entity {
            fill: #e8f5e9;
            stroke: #2e7d32;
            stroke-width: 2.5px;
            filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.1));
        }

        .attribute {
            fill: #fff;
            stroke: #43a047;
            stroke-width: 1.5px;
        }

        .relationship {
            fill: #fff3e0;
            stroke: #ef6c00;
            stroke-width: 2.5px;
            filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.1));
        }

        .line {
            stroke: #546e7a;
            stroke-width: 2px;
            fill: none;
        }

        text {
            font-size: 14px;
            font-weight: bold;
            fill: #333;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .attr-text {
            font-size: 11px;
            font-weight: normal;
            fill: #555;
        }

        .cardinality {
            font-size: 12px;
            font-weight: bold;
            fill: #d32f2f;
            background: white;
            padding: 2px;
        }
    </style>
</head>

<body>
    <h1>Sunshine Inventory Management System</h1>
    <svg width="1000" height="800" viewBox="0 0 1000 800">
        <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#546e7a" />
            </marker>
        </defs>

        <!-- ================= ENTITIES ================= -->
        <!-- USERS -->
        <rect x="150" y="100" width="140" height="60" rx="5" class="entity" />
        <text x="220" y="130">users</text>

        <!-- CATEGORIES -->
        <rect x="650" y="100" width="140" height="60" rx="5" class="entity" />
        <text x="720" y="130">categories</text>

        <!-- PRODUCTS -->
        <rect x="650" y="350" width="140" height="60" rx="5" class="entity" />
        <text x="720" y="380">products</text>

        <!-- STOCK -->
        <rect x="150" y="350" width="140" height="60" rx="5" class="entity" />
        <text x="220" y="365">inventory</text>
        <text x="220" y="385" font-size="12" fill="#666">(stock)</text>

        <!-- TRANSACTIONS -->
        <rect x="150" y="600" width="140" height="60" rx="5" class="entity" />
        <text x="220" y="630">transactions</text>

        <!-- STUDENTS -->
        <rect x="650" y="600" width="140" height="60" rx="5" class="entity" />
        <text x="720" y="630">students</text>


        <!-- ================= RELATIONSHIPS & CONNECTIONS (Orthogonal) ================= -->

        <!-- categories --[Contains]-- products -->
        <path d="M720,160 L720,200" class="line" />
        <polygon points="720,200 770,230 720,260 670,230" class="relationship" />
        <text x="720" y="230" font-size="12">contains</text>
        <path d="M720,260 L720,350" class="line" marker-end="url(#arrow)" />
        <text x="730" y="180" class="cardinality">1</text>
        <text x="730" y="330" class="cardinality">N</text>

        <!-- products --[Has Variants]-- stock -->
        <path d="M650,380 L530,380" class="line" />
        <polygon points="530,380 470,350 410,380 470,410" class="relationship" />
        <text x="470" y="380" font-size="12">has variants</text>
        <path d="M410,380 L290,380" class="line" marker-end="url(#arrow)" />
        <text x="630" y="370" class="cardinality">1</text>
        <text x="310" y="370" class="cardinality">N</text>

        <!-- stock --[Is Distributed In]-- transactions -->
        <path d="M220,410 L220,460" class="line" />
        <polygon points="220,460 270,490 220,520 170,490" class="relationship" />
        <text x="220" y="490" font-size="11">is distributed in</text>
        <path d="M220,520 L220,600" class="line" marker-end="url(#arrow)" />
        <text x="230" y="430" class="cardinality">1</text>
        <text x="230" y="580" class="cardinality">N</text>

        <!-- transactions --[Receives]-- students -->
        <path d="M290,630 L410,630" class="line" />
        <polygon points="410,630 470,600 530,630 470,660" class="relationship" />
        <text x="470" y="630" font-size="12">receives</text>
        <path d="M530,630 L650,630" class="line" marker-end="url(#arrow)" />
        <text x="310" y="620" class="cardinality">N</text>
        <text x="630" y="620" class="cardinality">1</text>


        <!-- ================= ATTRIBUTES (Distributed) ================= -->

        <!-- USERS -->
        <line x1="180" y1="100" x2="180" y2="70" class="line" /> <!-- Top -->
        <ellipse cx="180" cy="50" rx="45" ry="20" class="attribute" /> <text x="180" y="50" class="attr-text"
            style="text-decoration: underline;">id</text>

        <line x1="290" y1="130" x2="330" y2="130" class="line" /> <!-- Right -->
        <ellipse cx="370" cy="130" rx="45" ry="20" class="attribute" /> <text x="370" y="130"
            class="attr-text">username</text>

        <line x1="150" y1="130" x2="110" y2="130" class="line" /> <!-- Left -->
        <ellipse cx="70" cy="130" rx="45" ry="20" class="attribute" /> <text x="70" y="130"
            class="attr-text">password</text>

        <line x1="220" y1="100" x2="250" y2="70" class="line" /> <!-- Top Right -->
        <ellipse cx="280" cy="60" rx="40" ry="20" class="attribute" /> <text x="280" y="60"
            class="attr-text">role</text>

        <!-- New Security Fields -->
        <line x1="180" y1="160" x2="150" y2="190" class="line" /> <!-- Bottom Left -->
        <ellipse cx="130" cy="200" rx="50" ry="20" class="attribute" /> <text x="130" y="200" class="attr-text"
            font-size="10">sec_question</text>

        <line x1="260" y1="160" x2="290" y2="190" class="line" /> <!-- Bottom Right -->
        <ellipse cx="310" cy="200" rx="50" ry="20" class="attribute" /> <text x="310" y="200" class="attr-text"
            font-size="10">sec_answer</text>


        <!-- CATEGORIES -->
        <line x1="680" y1="100" x2="680" y2="70" class="line" /> <!-- Top -->
        <ellipse cx="680" cy="50" rx="40" ry="20" class="attribute" /> <text x="680" y="50" class="attr-text"
            style="text-decoration: underline;">id</text>

        <line x1="790" y1="130" x2="830" y2="130" class="line" /> <!-- Right -->
        <ellipse cx="870" cy="130" rx="40" ry="20" class="attribute" /> <text x="870" y="130"
            class="attr-text">name</text>


        <!-- PRODUCTS -->
        <line x1="790" y1="380" x2="830" y2="380" class="line" /> <!-- Right -->
        <ellipse cx="870" cy="380" rx="40" ry="20" class="attribute" /> <text x="870" y="380" class="attr-text"
            style="text-decoration: underline;">id</text>

        <line x1="770" y1="410" x2="810" y2="440" class="line" /> <!-- Bottom Right -->
        <ellipse cx="840" cy="460" rx="40" ry="20" class="attribute" /> <text x="840" y="460" class="attr-text"
            style="stroke-dasharray: 4;">cat_id</text>

        <line x1="720" y1="410" x2="720" y2="450" class="line" /> <!-- Bottom -->
        <ellipse cx="720" cy="470" rx="40" ry="20" class="attribute" /> <text x="720" y="470"
            class="attr-text">name</text>

        <line x1="670" y1="410" x2="630" y2="440" class="line" /> <!-- Bottom Left -->
        <ellipse cx="600" cy="460" rx="40" ry="20" class="attribute" /> <text x="600" y="460"
            class="attr-text">desc</text>


        <!-- STOCK (Updated to move attributes to Top) -->
        <line x1="150" y1="380" x2="110" y2="380" class="line" /> <!-- Left -->
        <ellipse cx="70" cy="380" rx="40" ry="20" class="attribute" /> <text x="70" y="380" class="attr-text"
            style="text-decoration: underline;">id</text>

        <line x1="170" y1="350" x2="150" y2="320" class="line" /> <!-- Top Left -->
        <ellipse cx="140" cy="300" rx="40" ry="20" class="attribute" /> <text x="140" y="300" class="attr-text"
            style="stroke-dasharray: 4;">prod_id</text>

        <line x1="220" y1="350" x2="220" y2="320" class="line" /> <!-- Top -->
        <ellipse cx="220" cy="300" rx="30" ry="20" class="attribute" /> <text x="220" y="300"
            class="attr-text">size</text>

        <line x1="270" y1="350" x2="290" y2="320" class="line" /> <!-- Top Right -->
        <ellipse cx="300" cy="300" rx="30" ry="20" class="attribute" /> <text x="300" y="300"
            class="attr-text">qty</text>


        <!-- TRANSACTIONS -->
        <line x1="150" y1="630" x2="110" y2="630" class="line" /> <!-- Left -->
        <ellipse cx="70" cy="630" rx="40" ry="20" class="attribute" /> <text x="70" y="630" class="attr-text"
            style="text-decoration: underline;">id</text>

        <line x1="170" y1="660" x2="130" y2="690" class="line" /> <!-- Bottom Left -->
        <ellipse cx="100" cy="710" rx="40" ry="20" class="attribute" /> <text x="100" y="710" class="attr-text"
            style="stroke-dasharray: 4;">stock_id</text>

        <line x1="220" y1="660" x2="220" y2="690" class="line" /> <!-- Bottom -->
        <ellipse cx="220" cy="710" rx="40" ry="20" class="attribute" /> <text x="220" y="710" class="attr-text"
            style="stroke-dasharray: 4;">stud_id</text>

        <line x1="270" y1="660" x2="310" y2="690" class="line" /> <!-- Bottom Right -->
        <ellipse cx="340" cy="710" rx="30" ry="20" class="attribute" /> <text x="340" y="710"
            class="attr-text">qty</text>

        <line x1="290" y1="630" x2="330" y2="630" class="line" /> <!-- Right -->
        <ellipse cx="370" cy="630" rx="30" ry="20" class="attribute" /> <text x="370" y="630"
            class="attr-text">date</text>


        <!-- STUDENTS -->
        <line x1="790" y1="630" x2="830" y2="630" class="line" /> <!-- Right -->
        <ellipse cx="870" cy="630" rx="40" ry="20" class="attribute" /> <text x="870" y="630" class="attr-text"
            style="text-decoration: underline;">id</text>

        <line x1="770" y1="660" x2="810" y2="690" class="line" /> <!-- Bottom Right -->
        <ellipse cx="840" cy="710" rx="40" ry="20" class="attribute" /> <text x="840" y="710"
            class="attr-text">name</text>

        <line x1="720" y1="660" x2="720" y2="690" class="line" /> <!-- Bottom -->
        <ellipse cx="720" cy="710" rx="40" ry="20" class="attribute" /> <text x="720" y="710"
            class="attr-text">class</text>

        <line x1="670" y1="660" x2="630" y2="690" class="line" /> <!-- Bottom Left -->
        <ellipse cx="600" cy="710" rx="55" ry="25" class="attribute" /> <text x="600" y="710" class="attr-text"
            font-size="10">prev_school</text>

    </svg>
</body>

</html>